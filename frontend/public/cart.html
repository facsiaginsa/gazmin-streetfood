<div class="flex-container">
    <div class="modal-header">
        <h2>Cart</h2>
        <button id="close-modal"></button>
    </div>
    <div class="modal-content"></div>
</div>

<script>
    'use strict';

    $('#close-modal').on('click', () => {
        callModal();
    });

    $.ajax({
        url: window.MARKETPLACE_URL + '/cart',
        headers: {
            'Authorization': 'Bearer ' + sessionStorage.getItem("token")
        },
        type: 'GET',
        success: (response) => {
            console.log(response)
            if (response.code === 1) {
                $('#modal-content').append(
                    '<div> Cart is empty </div>'
                )
            } 

            if (response.code === 0) {
                $.each(response.cart.products, displayCart)
            }
        }
    })

    function displayCart(index, product) {
    console.log(product)
    /* Available field:
        product.name
        product.description
        product.amount
        product.rating
        product.id
        product.photo
        product.stock
        product.price
        product.category
        product.photo
    */
    $('#modal-content').append(
        '<div>' +
            'name: ' + product.name +
        '</div>' +
        '<div>' +
            'description: ' + product.description +
        '</div>' +
        '<div>' +
            'amount: ' + product.amount +
        '</div>'
    );
}
</script>